.Header__nav-group--desktop {
   z-index: 100;
   display: -webkit-inline-box;
   display: -ms-inline-flexbox;
   display: inline-flex;
   width: 100%;
   height: 100%;
   @media screen and (max-width: 767px) {
       display: none;
   }
   .Header__nav-primary {
     background: $white-base;
     display: -webkit-box;
     display: -ms-flexbox;
     display: flex;
     -webkit-box-orient: vertical;
     -webkit-box-direction: normal;
     -ms-flex-flow: column nowrap;
     flex-flow: column nowrap;
     -webkit-box-align: center;
     -ms-flex-align: center;
     align-items: center;
     -webkit-box-pack: center;
     -ms-flex-pack: center;
     justify-content: center;
     @include respond-to('tablet-portrait') {
        -webkit-box-flex: 1;
        -ms-flex-positive: 1;
        flex-grow: 1;
        -webkit-box-orient: horizontal;
        -webkit-box-direction: normal;
        -ms-flex-flow: row nowrap;
        flex-flow: row nowrap;
     }
  }
}

.HeaderNavMenu__link {
  height: 100%;
  @include respond-to('tablet-portrait') {
      padding: 0 .75rem;
  }
  @media (min-width: 1024px) {
        padding: 0 1.25rem;
        -webkit-transition: color .15s ease-out;
        -o-transition: color .15s ease-out;
        transition: color .15s ease-out
  }

}
.header__header-link {
   @include font-size(15px);
   letter-spacing: .033125rem;
   white-space: nowrap;
   color: $brand-color;
   -webkit-user-select: none;
   -moz-user-select: none;
   -ms-user-select: none;
      user-select: none;
   @media screen and (min-width: 768px) and (max-width: 1023px) {
      @include font-size(13px);
   }

  @include on-event {
   color: $brand-color-darker;
   text-decoration: $link-hover-decoration;
  }

}
.header__header-utility-link {
   @include respond-to('tablet-portrait') {
      font-size: .875rem;
      letter-spacing: .01875rem;
      color: #525252;
      -webkit-transition: color .15s ease-out;
      -o-transition: color .15s ease-out;
      transition: color .15s ease-out;
   }
   @media (min-width: 1024px) {
      @include on-event {
         color: $link-hover-color;
      }
   }
}
.Header__nav-mobile-menu--active {
   color: $brand-color-darker;
   text-decoration: $link-hover-decoration;
}

.ProductList__nav-primary--container {
   display: flex;
   align-items: center;
   height: 100%;
   &:after {
      content: "";
      position: absolute;
      top: 100%;
      left: 0;
      z-index: -1;
      width: 100%;
      height: 22rem;
      background-color: $white-base;
      transform: scaleY(0);
      transform-origin: top;
      pointer-events: none;
      transition: transform .3s ease-out;
      will-change: transform;
      border-bottom: 1px solid $gray-lighter;
   }
   &.ProductList__nav-primary--container-dropdown-visible {
      &:before {
         opacity: 1;
      }
      &:after {
         box-shadow: 0 .25rem .5rem -.25rem rgba(0, 0, 0, .1);
         transform: none;
      }
   }
   &.ProductList__nav-primary--container-touch-visible {
      &:before {
         opacity: 1;
      }
      &:after {
         box-shadow: 0 .25rem .5rem -.25rem rgba(0, 0, 0, .1);
         transform: none;
      }
   }
}

@include respond-to('tablet-portrait') {
   .HeaderNavMenu__item{
      height:100%;
   }
  .HeaderNavMenu__dropdown--hover {
     position: absolute;
     top: 100%;
     left: 0;
     display: flex;
     visibility: hidden;
     opacity: 0;
     width: 100%;
     overflow: hidden;
     background-color: $white-base;
     pointer-events: auto;
     transition: opacity .3s ease, visibility .3s ease;
     will-change: opacity, transform;
     .HeaderNavMenu__dropdown-content {
        width: 100%;
     }
  }
  .HeaderNavMenu__link--active ~ .HeaderNavMenu__dropdown--hover {
     visibility: visible;
     opacity: 1;
     transition: opacity .3s ease, visibility .3s ease;
     transition-delay: .15s;
  }
  .HeaderNavMenu__link-container--active ~ .HeaderNavMenu__dropdown--hover {
     visibility: visible;
     opacity: 1;
     transition: opacity .3s ease, visibility .3s ease;
     transition-delay: .15s;
  }
}
@media (pointer: fine) {
   .HeaderNavMenu__item--hover:hover .HeaderNavMenu__dropdown--hover {
      visibility: visible;
      opacity: 1;
      -webkit-transition: opacity .3s ease,visibility .3s ease;
      -o-transition: opacity .3s ease,visibility .3s ease;
      transition: opacity .3s ease,visibility .3s ease;
      -webkit-transition-delay: .15s;
      -o-transition-delay: .15s;
      transition-delay: .15s;
   }
}


.HeaderNavMenu__dropdown {
//   pointer-events: none;  Breaks hover?
  border-top: 1px solid $gray-lighter;
  
  @include respond-to('tablet-portrait') {
     .HeaderNavMenu__dropdown--hover {
        position: absolute;
        top: 100%;
        left: 0;
        display: flex;
        visibility: hidden;
        opacity: 0;
        width: 100%;
        height: 25rem;
        overflow: hidden;
        background-color: $white-base;
        pointer-events: auto;
        transition: opacity .3s ease, visibility .3s ease;
        will-change: opacity, transform;
        .HeaderNavMenu__dropdown-content {
           width: 100%;
        }
     }
     .HeaderNavMenu__link--active ~ .HeaderNavMenu__dropdown--hover {
        visibility: visible;
        opacity: 1;
        transition: opacity .3s ease, visibility .3s ease;
        transition-delay: .15s;
     }
  }
}

.HeaderNavLink__link--main-nav {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-align: center;
  -ms-flex-align: center;
  align-items: center;
  height: 100%;
  padding: 0 0.7rem;
  @include respond-to('tablet-portrait') {
     padding: 0 .75rem;
  }
  @media (min-width: 1024px) {
     padding: 0 1rem;
     -webkit-transition: color .15s ease-out;
     -o-transition: color .15s ease-out;
     transition: color .15s ease-out;
  }
}




// .NavDesktop__subMenu {
//    display: grid;
//    justify-content: center;
//    position: absolute;
//    left: 0;
//    width: 100%;
//    margin-left: 0;
//    padding: 2rem;
//    background-color: hsla(0,0%,100%,.9666);
//    overflow: hidden;
//    opacity: 1;
//    .NavDesktop__subMenuGrid {
//       display: grid;
//       width: auto;
//       margin: 0;
//       &.NavDesktop__subMenuGrid--2col {
//          grid-template-columns: repeat(4,auto);
//       }
//       &>li:not(:last-child) {
//          margin-right: 2.5rem;
//       }
//    }
// }

// .NavDesktop__subMenuList {
//    color: $brand-color;
//    a {
//       display: inline-block;
//    }
//    .NavDesktop__subMenuHeader{
//       padding: .5rem 0;
//       @include font-size(16px);
//       @include respond-to('tablet-portrait') {
//             padding-top: 0;
//       }
//    }
//    .NavDesktop-subSubMenu {
//       margin-left: 0;
//       a {
//          position: relative;
//          opacity: .9;
//          transition: .1s;
//       }
//       .NavDesktop__category--product-link {
//          padding: .5rem 0;
//          @include font-size(15px);
//          @include respond-to('tablet-portrait') {
//             padding: .4375rem 0;
//          }
//          @media (min-width: 1024px) {
//             padding: .375rem 0;
//          }
//       }
      
//    }

// }


// .NavDesktop__subMenu .NavDesktop-subSubMenu a:after {
//    content: "";
//    position: absolute;
//    left: 0;
//    right: 0;
//    bottom: -3px;
//    width: 100%;
//    height: 1px;
//    background-color: #999b9e;
//    opacity: 0;
//    transform: translateY(.25rem);
//    transition: transform,opacity;
//    transition-duration: .2s;
//    transition-timing-function: cubic-bezier(.605,.045,.13,1.065);
// }
// .NavDesktop__subMenu .NavDesktop__subMenuPromo {
//    align-self: stretch;
//    img {
//       display: block;
//       max-width: 100%;
//       max-height: 300px;
//       line-height: 0;
//       -webkit-backface-visibility: hidden;
//       backface-visibility: hidden;
//       transform: translateZ(0);
//       opacity: 1;
//       transition: .2s;
//    }
// }






// Dropdown Containment
.ProductList__nav-primary--dropdown {
   width: 100%;
   max-width: 55rem;
   height: 100%;
   padding: 1rem 2rem;
   .ProductList__dropdown-container {
      display: flex;
      .ProductList__dropdown-content--category {
         width: 33.33333%;
         padding-left: 1rem;
      }
   }
}


// Dropdown Left side with List
.ProductList__category-wrapper {
   width: 100%;
   .ProductNavGroup__category {
      padding: 0 1.5625rem;
   }
   .ProductNavGroup__category--headline {
      padding: .5rem 0;
      @include font-size(16px);
      color: $brand-color;

      @include respond-to('tablet-portrait') {
            padding-top: 0;
      }
   }
   .ProductNavGroup__category--product-item {
      padding: .5rem 0;
      @include font-size(15px);
      @include respond-to('tablet-portrait') {
         padding: .4375rem 0;
      }
      @media (min-width: 1024px) {
         padding: .375rem 0;
      }
      .ProductNavGroup__category--product-link {
         display: inline-block;
         color: #151515;
         em {
            font-style: normal;
            font-weight: 400;
         }
         @include respond-to('tablet-portrait') {
            padding-left: 0;
            -webkit-transition: padding-left .15s ease-in, color .15s ease-out;
            -o-transition: padding-left .15s ease-in, color .15s ease-out;
            transition: padding-left .15s ease-in, color .15s ease-out;
         }
         @include on-event {
            padding-left: .25rem;
            color: #1e306e
         }
      }
   }
   .ProductNavGroup__category--product-item-btn {
      padding-top: 0.5rem;
      text-align: left;
   }
}

// Dropdown right side with image
.ProductList__dropdown-content--visual {
//   width: 66.66667%;
  padding: 0rem 1.5625rem;
  .ProductList__visual--headline {
     display: block;
     padding: 0 0 .75rem;
     @include font-size(16px);
     color: $brand-color;
  }
  .ProductList__visual {
     display: flex;
     margin-left: -1rem;
     .ProductList__visual--container {
        width: 100%;
        padding-left: 1rem;        
     }
  }
}

.ProductList__visual--link {
  display: block;
  @include on-event {
   text-decoration: none;
   color: $brand-color;
  }
  .ProductList__visual--image {
     position: relative;
     width: 100%;
     .ProductList__visual--tag {
        position: absolute;
        top: .4375rem;
        left: -.125rem;
        height: 1.2rem;
        z-index: 1;
        display: block;
        padding-left: .5rem;
        border-top-left-radius: .25rem;
        border-bottom-left-radius: .25rem;
        background-color: #f6db86;
        &:after {
           content: "";
           position: absolute;
           top: 0;
           left: 100%;
           border: .6875rem solid #f6db86;
           border-right: .85rem solid rgba(0, 0, 0, 0);
        }
        .ProductList__visual-tag--title {
           @include font-size(13px);
           letter-spacing: .029375rem;
            color: $brand-color;
         }
     }
     .ProductList__visual-image--container {
        overflow: hidden;
        .ProductList__visual-image--img {
           max-height: 240px;
        }
     }
     &:hover{
      -webkit-transform: scale(1.04);
      -ms-transform: scale(1.04);
      transform: scale(1.04);
     }
  }

  .ProductList__visual--subheadline {
     display: inline-block;
     padding: .75rem 0 .25rem;
     @include font-size(15px);
     letter-spacing: .0375rem;
  }
  .ProductList__visual--description {
     display: block;
     padding: 0 0 .25rem;
     @include font-size(14px);
     letter-spacing: .0375rem;
  }
  .ProductList__visual--footnote {
     display: block;
     @include font-size(13px);
     letter-spacing: .0375rem;
     color: $gray;
     em {
        font-style: normal;
        font-weight: 500;
     }
  }
}



